!function(){var e=function(e){this.element=e,this.datesContainer=this.element.getElementsByClassName("mt-timeline__dates")[0],this.line=this.datesContainer.getElementsByClassName("mt-timeline__line")[0],this.fillingLine=this.datesContainer.getElementsByClassName("mt-timeline__filling-line")[0],this.date=this.line.getElementsByClassName("mt-timeline__date"),this.selectedDate=this.line.getElementsByClassName("mt-timeline__date--selected")[0],this.dateValues=function e(t){for(var n=[],a=0;a<t.date.length;a++){var i=t.date[a].getAttribute("data-date").split("T");if(i.length>1)var s=i[0].split("/"),l=i[1].split(":");else if(i[0].indexOf(":")>=0)var s=["2000","0","0"],l=i[0].split(":");else var s=i[0].split("/"),l=["0","0"];var d=new Date(s[2],s[1]-1,s[0],l[0],l[1]);n.push(d)}return n}(this),this.minLapse=function e(t){for(var n=[],a=1;a<t.dateValues.length;a++){var i=l(t.dateValues[a-1],t.dateValues[a]);i>0&&n.push(i)}return n.length>0?Math.min.apply(null,n):864e5}(this),this.navigation=this.element.getElementsByClassName("mt-timeline__navigation"),this.contentWrapper=this.element.getElementsByClassName("mt-timeline__events")[0],this.content=this.contentWrapper.getElementsByClassName("mt-timeline__event"),this.eventsMinDistance=150,this.eventsMaxDistance=150,this.translate=0,this.lineLength=0,this.oldDateIndex=Util.getIndexInArray(this.date,this.selectedDate),this.newDateIndex=this.oldDateIndex,function e(t){for(var a=-125,i=0;i<t.dateValues.length;i++){var d=0==i?0:i-1,r=(Math.round(l(t.dateValues[d],t.dateValues[i])/t.minLapse)+1)*t.eventsMinDistance;r<t.eventsMinDistance?r=t.eventsMinDistance:r>t.eventsMaxDistance&&(r=t.eventsMaxDistance),a+=r,t.date[i].setAttribute("style","left:"+a+"px")}t.line.style.width=a+t.eventsMinDistance+"px",t.lineLength=a+t.eventsMinDistance,Util.addClass(t.element,"mt-timeline--loaded"),n(t,t.selectedDate),s(t,"next")}(this),function e(i){var s=i;s.navigation[0].addEventListener("click",function(e){e.preventDefault(),t(s,"prev")}),s.navigation[1].addEventListener("click",function(e){e.preventDefault(),t(s,"next")}),new SwipeContent(s.datesContainer),s.datesContainer.addEventListener("swipeLeft",function(e){t(s,"next")}),s.datesContainer.addEventListener("swipeRight",function(e){t(s,"prev")});for(var l=0;l<s.date.length;l++)!function(e){s.date[e].addEventListener("click",function(e){e.preventDefault(),n(s,e.target)}),s.content[e].addEventListener("animationend",function(t){e==s.newDateIndex&&s.newDateIndex!=s.oldDateIndex&&a(s)})}(l)}(this)};function t(e,t){var n=e.datesContainer.offsetWidth;t&&(e.translate="next"==t?e.translate-n+e.eventsMinDistance:e.translate+n-e.eventsMinDistance),0-e.translate>e.lineLength-n&&(e.translate=n-e.lineLength),e.translate>0&&(e.translate=0),e.line.style.transform="translateX("+e.translate+"px)",0==e.translate?Util.addClass(e.navigation[0],"mt-timeline__navigation--inactive"):Util.removeClass(e.navigation[0],"mt-timeline__navigation--inactive"),e.translate==n-e.lineLength?Util.addClass(e.navigation[1],"mt-timeline__navigation--inactive"):Util.removeClass(e.navigation[1],"mt-timeline__navigation--inactive")}function n(e,t){var n,a,i,s;e.newDateIndex=Util.getIndexInArray(e.date,t),e.oldDateIndex=Util.getIndexInArray(e.date,e.selectedDate),Util.removeClass(e.selectedDate,"mt-timeline__date--selected"),Util.addClass(e.date[e.newDateIndex],"mt-timeline__date--selected"),e.selectedDate=e.date[e.newDateIndex],function e(t){for(var n=0;n<t.date.length;n++)n<t.newDateIndex?Util.addClass(t.date[n],"mt-timeline__date--older-event"):Util.removeClass(t.date[n],"mt-timeline__date--older-event")}(e),function e(t){if(t.newDateIndex>t.oldDateIndex)var n="mt-timeline__event--selected mt-timeline__event--enter-right",a="mt-timeline__event--leave-left";else if(t.newDateIndex<t.oldDateIndex)var n="mt-timeline__event--selected mt-timeline__event--enter-left",a="mt-timeline__event--leave-right";else var n="mt-timeline__event--selected",a="";Util.addClass(t.content[t.newDateIndex],n),t.newDateIndex!=t.oldDateIndex&&(Util.removeClass(t.content[t.oldDateIndex],"mt-timeline__event--selected"),Util.addClass(t.content[t.oldDateIndex],a),t.contentWrapper.style.height=t.content[t.newDateIndex].offsetHeight+"px")}(e),n=e,i=(a=window.getComputedStyle(n.selectedDate,null)).getPropertyValue("left"),s=a.getPropertyValue("width"),i=Number(i.replace("px",""))+Number(s.replace("px",""))/2,n.fillingLine.style.transform="scaleX("+i/n.lineLength+")"}function a(e){e.contentWrapper.style.height=null,Util.removeClass(e.content[e.newDateIndex],"mt-timeline__event--enter-right mt-timeline__event--enter-left"),Util.removeClass(e.content[e.oldDateIndex],"mt-timeline__event--leave-right mt-timeline__event--leave-left")}function i(e,t){var a="next"==t?e.newDateIndex+1:e.newDateIndex-1;a<0||a>=e.date.length||(n(e,e.date[a]),s(e,t))}function s(e,n){var a=Number(window.getComputedStyle(e.selectedDate,null).getPropertyValue("left").replace("px","")),i=e.datesContainer.offsetWidth;("next"==n&&a>=i-e.translate||"prev"==n&&a<=-e.translate)&&(e.translate=i/2-a,t(e,!1))}function l(e,t){return Math.round(t-e)}document.getElementsByTagName("html")[0].className+=" js",window.HorizontalTimeline=e;var d=document.getElementsByClassName("js-mt-timeline"),r=[];if(d.length>0){for(var o=0;o<d.length;o++)r.push(new e(d[o]));document.addEventListener("keydown",function(e){e.keyCode&&39==e.keyCode||e.key&&"arrowright"==e.key.toLowerCase()?m("next"):(e.keyCode&&37==e.keyCode||e.key&&"arrowleft"==e.key.toLowerCase())&&m("prev")})}function m(e){for(var t=0;t<r.length;t++)v(d[t])&&i(r[t],e)}function v(e){for(var t=e.offsetTop,n=e.offsetLeft,a=e.offsetWidth,i=e.offsetHeight;e.offsetParent;)t+=(e=e.offsetParent).offsetTop,n+=e.offsetLeft;return t<window.pageYOffset+window.innerHeight&&n<window.pageXOffset+window.innerWidth&&t+i>window.pageYOffset&&n+a>window.pageXOffset}}();